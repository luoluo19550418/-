#+TITLE: PaaS程序設計
#+AUTHOR: lujun9972
#+TAGS: .
#+DATE: [2019-05-10 五 21:35]
#+LANGUAGE:  zh-CN
#+STARTUP:  inlineimages
#+OPTIONS:  H:6 num:nil toc:t \n:nil ::t |:t ^:nil -:nil f:t *:t <:nil

* 遗留应用迁移到PaaS的注意事项:

** 文件上传存储

传统应用一般是将上传的文件存储在文件系统上，因为及时服务器崩溃了，用户只要重启机器，文件依然存在。
而基于PaaS供应商的文件系统可能不稳定，机器重启时系统不会重新装载，从而导致上传的文件丢失。

在PaaS上还提供一种存储文件的方法那就是"对象存储"，用户上传文件时通过编程接口存储文件内容，编程接口会返回一个URL。用户可以存储该URL链接而不是文件本身。
采用对象存储的好处之一是上传的所有文件，被自动复制到不同服务器上，这样数据不容易丢失也更稳定。

** 会话管理

如果应用运行在单服务器上，应用会话通常缺省保存在硬盘上的某个临时文件中，但在PaaS上通常会启动多个应用实例，这意味着应用会在多个不同服务器上运行，而对应用的使用者来说，这意味着他们的登录可能会被无缘无故地注销掉.

在PaaS上通常有三种典型的方法存放会话数据。

+ 用对象存储技术存储会话文件
+ NoSQL会话存储
+ SQL会话存储
** 异步化

PaaS服务商可能会杀掉长时间运行的进程，或者按照进程的运行时长付费，因此异步化非常重要。

** SQL

在很多PaaS平台上，会限制SQL存储过程的使用。
